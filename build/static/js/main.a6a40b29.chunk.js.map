{"version":3,"sources":["components/Book.js","components/ListPicker.js","services/BookService.js","containers/SearchBookContainer.js","components/AddReadListForm.js","components/ReadList.js","containers/ListViewContainer.js","components/ReadListItem.js","containers/ReadListContainer.js","containers/BookDetailsContainer.js","containers/SampleBooksContainer.js","containers/RecommendContainer.js","containers/RegisterContainer.js","containers/LoginContainer.js","components/PrivateRoute.js","App.js","index.js"],"names":["Book","book","className","src","image_url","alt","title","authors","description","ListPicker","readLists","addBookToList","map","list","key","id","onClick","name","token","getReadLists","console","log","fetch","method","headers","Authorization","then","response","json","postNewList","newList","body","JSON","stringify","getReadList","getBookByIsbn","isbn","data","getBookDetails","postRating","getRatingSample","getRecommendations","setToken","newToken","SearchBookContainer","useState","setIsbn","bookByIsbn","setBookByIsbn","setReadLists","useEffect","BookService","onSubmit","event","preventDefault","value","onChange","e","target","type","listId","isbn13","readlist_id","AddReadListForm","listInput","setListInput","submitForm","ReadList","to","ListViewContainer","inputVisible","setInputVisible","concat","catch","ReadListItem","item","ReadListContainer","readList","setReadList","useParams","BookDetailsContainer","setBook","SampleBooksContainer","books","setBooks","length","stop","fractions","rated","result","handleChange","RecommendContainer","recommendations","setRecommendations","recommendation","RegisterContainer","email","setEmail","username","setUsername","password","setPassword","user","LoginContainer","setUser","history","useHistory","window","localStorage","setItem","path","taste_tested","push","PrivateRoute","Component","component","isAuth","rest","App","ReactDOM","render","StrictMode","image","document","getElementById"],"mappings":"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","file":"static/js/main.a6a40b29.chunk.js","sourcesContent":["import React from 'react'\n\nconst Book = ({book}) => {\n    return(\n        <div className='book-container'>\n            <img src={book.image_url} alt=\"cover\" />\n            <div className='book-info-container'>\n                <h1 className='title'>{book.title}</h1>\n                <h2 className='author'>{book.authors[0]}</h2>\n                <p>{book.description}</p>\n            </div>\n        </div>\n    )\n}\n\nexport default Book","import React from 'react'\n\nconst ListPicker = ({readLists, addBookToList}) => {\n    return readLists.map(list => {\n        return <button key={list.id} onClick={()=>addBookToList(list.id)} >{list.name}</button>\n    })\n}\n\nexport default ListPicker","import React from 'react'\n\nlet token=null\n\nconst setToken=(newToken)=> {\n    console.log('täälä')\n    token=`Bearer ${newToken}`\n    console.log('token', token)\n}\n\nconst getReadLists = () => {\n    console.log('haku', token)\n    return fetch('http://localhost:3001/readlists', {\n        method: 'get',\n        headers: {\n            Authorization: token\n        }\n    })\n    .then(response => response.json())\n}\n\nconst postNewList = (newList) => {\n    return fetch('http://localhost:3001/readlists', {\n        method: 'post',\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: token\n        },\n        body: JSON.stringify(newList)\n    })\n    .then(response => response.json())\n}\n\nconst getReadList = (id) => {\n    return fetch(`http://localhost:3001/readlists/${id}`, {\n        method: 'get',\n        headers: {\n            Authorization: token\n        }\n    })\n    .then(response => response.json())\n}\n\nconst addBookToList = (book) => {\n    return fetch('http://localhost:3001/books', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: token\n        },\n        body: JSON.stringify(book)\n    })\n    .then(response => response.json())\n    .then(data => {\n        console.log('success', data)\n    })\n}\n\nconst getBookByIsbn = (isbn) => {\n    return fetch(`http://localhost:3001/book/${isbn}`)\n    .then(response => response.json())\n}\n\nconst getBookDetails = (id) => {\n    return fetch(`http://localhost:3001/books/${id}`, {\n        method: 'get',\n        headers: {\n            Authorization: token\n        }\n    })\n    .then(response => response.json())\n    .then(data => {\n        console.log(data)\n        return data\n        //setBook(data)\n    })\n}\n\nconst postRating = (data) => {\n    return fetch('http://localhost:3001/recommendations/rate', {\n        method: 'post',\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: token\n        },\n        body: JSON.stringify(data)\n    })\n    .then(response=> response.json())\n}\n\nconst getRatingSample=()=> {\n    return fetch('http://localhost:3001/recommendations/sample', {\n        method: 'get',\n        headers: {\n            Authorization: token\n        }\n    })\n    .then(response => response.json())\n}\n\nconst getRecommendations= () => {\n    return fetch('http://localhost:3001/recommendations/list', {\n        method: 'get',\n        headers: {\n            Authorization: token\n        }\n    })\n    .then(response => response.json())\n}\n\nexport default{\n    getReadLists: getReadLists,\n    postNewList: postNewList,\n    getReadList: getReadList,\n    getBookByIsbn: getBookByIsbn,\n    addBookToList: addBookToList,\n    getBookDetails: getBookDetails,\n    postRating: postRating,\n    getRatingSample: getRatingSample,\n    getRecommendations: getRecommendations,\n    setToken,\n    token \n}\n\n","import React, {useState, useEffect} from 'react';\nimport Book from '../components/Book'\nimport ListPicker from '../components/ListPicker'\nimport BookService from '../services/BookService'\n\n\nconst SearchBookContainer =()=> {\n  const [isbn, setIsbn]=useState('')\n  const [bookByIsbn, setBookByIsbn]=useState(null)\n  const [readLists, setReadLists] = useState([])\n\n  useEffect(() => {\n    BookService.getReadLists()\n    .then(data => setReadLists(data))\n  },[])\n\n  //const bookByIsbn=books.find(b=>  b.isbn===isbn)\n  const submitForm = (event) => {\n    event.preventDefault()\n    console.log(isbn)\n    BookService.getBookByIsbn(isbn)\n    .then(data => {\n        console.log(data)\n        console.log(data.authors[0])\n        setBookByIsbn(data)\n    })\n  }\n  const addBookToList = (listId) => {\n    const book = {\n      title: bookByIsbn.title,\n      isbn: bookByIsbn.isbn,\n      isbn13: bookByIsbn.isbn13,\n      image_url: bookByIsbn.image_url,\n      description: bookByIsbn.description,\n      authors: bookByIsbn.authors,\n      readlist_id:listId\n    }\n    BookService.addBookToList(book)\n    .then(response => console.log(response))\n\n  }\n\n\nreturn(\n  <div className='frontpage-app'>\n    <form onSubmit={submitForm}>\n      <input value={isbn} onChange={(e)=>setIsbn(e.target.value)} />\n      <button type='submit'>lähetä</button>\n    </form>\n    {bookByIsbn && \n      <>\n        <Book book={bookByIsbn} />\n        <ListPicker readLists={readLists} addBookToList={addBookToList} />\n      </>\n    }\n  </div>\n)}\n\nexport default SearchBookContainer;","import React from 'react'\n\nconst AddReadListForm = ({listInput, setListInput, submitForm}) =>(\n    <form onSubmit={submitForm}>\n        <input value={listInput} onChange={(e) => setListInput(e.target.value)} />\n        <button type='submit'>Lisää</button>\n    </form>\n)\n\nexport default AddReadListForm","import React from 'react'\nimport {Link} from 'react-router-dom'\n\nconst ReadList = ({list}) => (\n    <div>\n        <Link to={`/list/${list.id}`} >{list.name}</Link>\n    </div>\n)\n\nexport default ReadList","import React, {useState, useEffect} from 'react'\nimport AddReadListForm from '../components/AddReadListForm'\nimport ReadList from '../components/ReadList'\nimport BookService from '../services/BookService'\n\nconst ListViewContainer = () => {\n    const [readLists, setReadLists] = useState([])\n    const [listInput, setListInput] = useState('')\n    const [inputVisible, setInputVisible] = useState(false)\n\n    useEffect(() => {\n/*         const loggedUser=window.localStorage.getItem('loggedUser')\n        if(loggedUser) {\n            const user=JSON.parse(loggedUser)\n            console.log(user)\n            BookService.setToken(user.token)\n            console.log(BookService.token)\n        } */\n        console.log('haku')\n       BookService.getReadLists()\n        .then(data => setReadLists(data))\n    }, [])\n\n    const toggleVisibility = () => setInputVisible(!inputVisible)\n\n    const submitForm = (event) => {\n        event.preventDefault()\n        console.log(listInput)\n        const newList = {\n            name: listInput\n        }\n        BookService.postNewList(newList)\n        .then(data => {\n            setReadLists(readLists.concat(data))\n            setListInput('')\n        })\n        .catch(e => console.log(e))\n    } \n\n    return(\n        <div className='frontpage-app'>\n            {console.log(readLists)}\n            {console.log(BookService.token)}\n            {readLists.map(list=>{\n                return<ReadList key={list.id} list={list} />\n            })}\n            <button onClick={toggleVisibility}>toggle</button>\n            {inputVisible && <AddReadListForm\n                listInput={listInput}\n                setListInput={setListInput}\n                submitForm={submitForm}\n            />}\n        </div>\n\n    )\n}\n\nexport default ListViewContainer\n","import React from 'react'\n\nconst ReadListItem = ({item}) => (\n    <div className=\"booklist-item-container\" >\n        <h2 className=\"title\">{item.title}</h2>\n        <h3 className=\"author\">{item.authors[0]}</h3>\n        <p>{item.description}</p>\n    </div>\n)\n\nexport default ReadListItem","import React, {useState, useEffect} from 'react'\nimport {useParams, Link} from 'react-router-dom'\nimport ReadListItem from '../components/ReadListItem'\nimport BookService from '../services/BookService'\n\nconst ReadListContainer = () => {\n    const [readList, setReadList] = useState([])\n    const id=useParams().id\n\n    useEffect(() => {\n        BookService.getReadList(id)\n        .then(data => {\n            console.log(data)\n            setReadList(data)\n        })\n    }, [id])\n\n    return (\n        <>\n            {readList.map(book => {\n                return(<Link key={book.id} to={`/book/${book.id}`}><ReadListItem key={book.id} item={book} /></Link>)\n            })}\n        </>\n    )\n}\n\nexport default ReadListContainer","import React, {useState, useEffect} from 'react'\nimport {useParams} from 'react-router-dom'\nimport Book from '../components/Book'\nimport BookService from '../services/BookService'\n\nconst BookDetailsContainer = () => {\n    const [book, setBook] = useState(null)\n    const id=useParams().id\n    console.log(id)\n    useEffect(() => {\n        BookService.getBookDetails(id)\n        .then(data => setBook(data))\n/*         fetch(`http://localhost:3001/books/${id}`)\n        .then(response => response.json())\n        .then(data => {\n            console.log(data)\n            setBook(data)\n        }) */\n    }, [id])\n    return (\n        <>\n            {book && <Book book={book} />}\n        </>\n    )\n}\n\nexport default BookDetailsContainer","import React, { useEffect, useState } from 'react'\nimport ReadListItem from '../components/ReadListItem'\nimport Rating from 'react-rating'\nimport BookService from '../services/BookService'\n\nconst SampleBooksContainer = () => {\n    const [books, setBooks] = useState([])\n\n    useEffect(()=> {\n        BookService.getRatingSample()\n/*         fetch('http://localhost:3001/recommendations/sample')\n        .then(response => response.json()) */\n        .then(data => setBooks(data))\n    },[])\n\n    const handleChange= (book, e) =>{\n        console.log('value', e, book)\n        const data= {...book, rated: 3}\n        console.log(data)\n        BookService.postRating(data)\n\n/*         fetch('http://localhost:3001/recommendations/rate', {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        })\n        .then(response=> response.json()) */\n        .then(result => console.log(result))\n    }\n\n    if(books.length>0) {\n        return books.map(book => {\n            return (<div key={book.title}>\n                        <ReadListItem item={book} />\n                        <Rating \n                            stop={10} \n                            fractions={2}\n                            onChange={(e)=>handleChange(book, e)} \n                        /> \n                    </div>)\n        })\n    }\n\n    return <></>\n}\n\nexport default SampleBooksContainer","import React, { useState, useEffect } from 'react'\nimport ReadListItem from '../components/ReadListItem'\nimport BookService from '../services/BookService'\n\nconst RecommendContainer = () => {\n\n    const [recommendations, setRecommendations] = useState([])\n\n    useEffect(() => {\n        BookService.getRecommendations()\n        .then(data => setRecommendations(data))\n    }, [])\n\n    const listRecommendations = () => {\n        return recommendations.map(recommendation => {\n            return <ReadListItem item={recommendation} />\n        }) \n    }\n\n    return(\n        <>\n            Suositukset\n            {listRecommendations()}\n        </>\n    )\n\n\n/*     return recommendations.map(recommendation => {\n        return <ReadListItem item={recommendation} />\n    }) */\n}\n\nexport default RecommendContainer","import React, {useState} from 'react'\n\nconst RegisterContainer = () => {\n    const [email, setEmail] = useState(\"\")\n    const [username, setUsername] =useState(\"\")\n    const [password, setPassword] = useState(\"\")\n\n    const handleRegister = (event) => {\n        event.preventDefault()\n        const user={\n            email,\n            username,\n            password\n        }\n        fetch('http://localhost:3001/user/register', {\n            method: 'post',\n            headers:{\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data)\n            setEmail(\"\")\n            setUsername(\"\")\n            setPassword(\"\")\n        })\n        console.log(user)\n    }\n\n    return(\n        <form onSubmit={handleRegister} >\n            <div>sähköposti<input value={email} onChange={(e) => setEmail(e.target.value)} /></div>\n            <div>käyttäjätunnus<input value={username} onChange={(e) => setUsername(e.target.value)} /></div>\n            <div>salasana<input value={password} onChange={(e) => setPassword(e.target.value)} /></div>\n            <button type='submit'>rekisteröidy</button>\n        </form>\n    )\n}\n\nexport default RegisterContainer","import React, {useState} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport BookService from '../services/BookService'\n\nconst LoginContainer = ({setUser}) => {\n    const [username, setUsername]=useState(\"\")\n    const [password, setPassword]=useState(\"\")\n    const history=useHistory()\n\n    const handleLogin=(event)=>{\n        event.preventDefault()\n        const user={\n            username,\n            password\n        }\n        fetch('http://localhost:3001/user/login', {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        })\n        .then(response=> response.json())\n        .then(data => {\n            console.log(data.token)\n            setUser(data)\n            BookService.setToken(data.token)\n            window.localStorage.setItem('loggedUser', JSON.stringify(data))\n            const path=data.taste_tested? '/':'/rate'\n            history.push(path)\n        })\n    }\n\n    return(\n        <form onSubmit={handleLogin} >\n            <div>username<input value={username} onChange={(e)=>setUsername(e.target.value)} /></div>\n            <div>password<input value={password} onChange={(e)=> setPassword(e.target.value)} /></div>\n            <button type='submit'>kirjaudu</button>\n        </form>\n    )\n}\n\nexport default LoginContainer","import React from 'react'\nimport {Route, Redirect} from 'react-router-dom'\n\nconst PrivateRoute= ({component: Component, path, isAuth, ...rest}) => (\n    <Route path={path} >\n        {isAuth?\n            <Component {...rest}/>:   \n            <Redirect to='/login' />}\n    </Route>\n)\n\nexport default PrivateRoute","import React, {useState} from 'react';\nimport SearchBookContainer from './containers/SearchBookContainer'\nimport ListViewContainer from './containers/ListViewContainer'\nimport ReadListContainer from './containers/ReadListContainer'\nimport BookDetailsContainer from './containers/BookDetailsContainer'\nimport SampleBooksContainer from './containers/SampleBooksContainer'\nimport RecommendContainer from './containers/RecommendContainer'\nimport RegisterContainer from './containers/RegisterContainer'\nimport LoginContainer from './containers/LoginContainer'\nimport PrivateRoute from './components/PrivateRoute'\n//import BookService from './services/BookService'\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Link, Redirect\n} from \"react-router-dom\"\n\nconst App =()=> {\n  const [user, setUser]=useState(null)\n\n\nreturn(\n  <Router>\n    <div>\n      <Link to=\"/\">Listat</Link>\n      <Link to=\"/etsi\">etsi</Link>\n      <Link to=\"/rate\">rate</Link>\n      <Link to=\"/list\">listoja</Link>\n      <Link to=\"/recommendations\">suositukset</Link>\n    </div>\n    <Switch>\n      <PrivateRoute component={ReadListContainer} path=\"/list/:id\" isAuth={!!user} />\n      <PrivateRoute component={ListViewContainer} path='/list' isAuth={!!user} />\n      <PrivateRoute component={SearchBookContainer} path=\"/etsi\" isAuth={!!user} />\n      <PrivateRoute component={BookDetailsContainer} path ='/book/:id' isAuth={!!user} />\n      <PrivateRoute component={SampleBooksContainer} path= '/rate' isAuth={!!user} />\n      <PrivateRoute component={RecommendContainer} path='/recommendations' isAuth={!!user} />\n      <Route path='/register'>\n        <RegisterContainer />\n      </Route>\n      <Route path='/login'>\n        <LoginContainer setUser={setUser} />\n      </Route>\n      <Route path=\"/\">\n        {user ? \n          (<>\n            <SearchBookContainer />\n            <ListViewContainer  />\n            <RecommendContainer />\n          </>\n          ): <Redirect to='/login' />}\n      </Route>\n    </Switch>\n  </Router>\n)}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nimport '@fortawesome/fontawesome-free/css/all.min.css'\n\nconst books=[{\n  isbn: \"0060512148\",\n  isbn13: \"9780060512149\",\n  title: \"Angels\",\n  authors: [\"Marian Keyes\"],\n  image: \"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1407711412l/82747._SX98_.jpg\",\n  description: \"Maggie has always been the white sheep of the Walsh family.Unlike her comically dysfunctional sisters,Rachel(heroine of Rachel's Holiday) and Claire (heroine of Watermelon), she married a decent man who adored her and found herself a solid career. Where Rachel was reckless and Claire dramatic, Maggie settled early for safety. Or so she believed until she discovers that her husband is having an affair and her boss is going to fire her. Suddenly, her perfectly organized life has become a perfect mess.\"\n},\n{\n  isbn: \"0440241901\",\n  isbn13: \"9780440241904\",\n  title: \"Can You Keep a Secret?\",\n  authors: [\"Sophie Kinsella\"],\n  image: \"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1330464293l/33724._SY160_.jpg\",\n  description: \"Meet Emma Corrigan, a young woman with a huge heart, an irrepressible spirit, and a few little secrets: Secrets from her boyfriend: I've always thought Connor looks a bit like Ken. As in Barbie and Ken. Secrets from her mother: I lost my virginity in the spare bedroom with Danny Nussbaum while Mum and Dad were downstairs watching Ben-Hur\"\n}\n]\n\nReactDOM.render(\n  <React.StrictMode>\n    <App books={books} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}